{"ast":null,"code":"var _jsxFileName = \"/Users/jasper/Workspace/ReactNative/MyReadsApp/src/App.js\";\nimport React from 'react';\nimport * as BooksAPI from './BooksAPI';\nimport './App.css';\nimport Home from './Home';\nimport { Route, Link } from 'react-router-dom';\nimport Search from './Search';\n\nclass BooksApp extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      books: []\n    };\n\n    this.onOptionChanged = (value, bookId) => {\n      return BooksAPI.get(bookId).then(book => {\n        this.updateBook(book, value);\n      });\n    };\n\n    this.addNewBook = (history, value, bookId) => {\n      this.onOptionChanged(value, bookId).then(() => {\n        history.push('/');\n      });\n    };\n\n    this.refreshBooks = () => {\n      BooksAPI.getAll().then(books => this.setState({\n        books: books\n      }));\n    };\n\n    this.updateBook = (book, shelf) => {\n      BooksAPI.update(book, shelf).then(() => this.refreshBooks());\n    };\n  }\n\n  componentDidMount() {\n    this.refreshBooks();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(Home, {\n        state: this.state,\n        listener: this.onOptionChanged,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"search\",\n        className: \"open-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Add Book\")),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/search\",\n      render: ({\n        history\n      }) => React.createElement(Search, {\n        myReads: this.state.books,\n        listener: (value, bookId) => this.addNewBook(history, value, bookId),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default BooksApp;","map":{"version":3,"sources":["/Users/jasper/Workspace/ReactNative/MyReadsApp/src/App.js"],"names":["React","BooksAPI","Home","Route","Link","Search","BooksApp","Component","state","books","onOptionChanged","value","bookId","get","then","book","updateBook","addNewBook","history","push","refreshBooks","getAll","setState","shelf","update","componentDidMount","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,QAAZ,MAA0B,YAA1B;AACA,OAAO,WAAP;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,SAASC,KAAT,EAAgBC,IAAhB,QAA4B,kBAA5B;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,MAAMC,QAAN,SAAuBN,KAAK,CAACO,SAA7B,CAAuC;AAAA;AAAA;AAAA,SAEnCC,KAFmC,GAE3B;AACNC,MAAAA,KAAK,EAAG;AADF,KAF2B;;AAAA,SAMtCC,eANsC,GAMpB,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC9B,aAAOX,QAAQ,CAACY,GAAT,CAAaD,MAAb,EACNE,IADM,CACAC,IAAD,IAAU;AACd,aAAKC,UAAL,CAAgBD,IAAhB,EAAsBJ,KAAtB;AACD,OAHM,CAAP;AAIH,KAXkC;;AAAA,SAanCM,UAbmC,GAatB,CAACC,OAAD,EAAUP,KAAV,EAAiBC,MAAjB,KAA4B;AACvC,WAAKF,eAAL,CAAqBC,KAArB,EAA4BC,MAA5B,EACCE,IADD,CACM,MAAM;AACRI,QAAAA,OAAO,CAACC,IAAR,CAAa,GAAb;AACD,OAHH;AAID,KAlBkC;;AAAA,SAoBtCC,YApBsC,GAoBvB,MAAM;AAChBnB,MAAAA,QAAQ,CAACoB,MAAT,GACCP,IADD,CACOL,KAAD,IACJ,KAAKa,QAAL,CACA;AAAEb,QAAAA,KAAK,EAAGA;AAAV,OADA,CAFF;AAMD,KA3BkC;;AAAA,SA6BtCO,UA7BsC,GA6BzB,CAACD,IAAD,EAAOQ,KAAP,KAAiB;AACxBtB,MAAAA,QAAQ,CAACuB,MAAT,CAAgBT,IAAhB,EAAsBQ,KAAtB,EACCT,IADD,CACM,MAAM,KAAKM,YAAL,EADZ;AAEF,KAhCkC;AAAA;;AAkCtCK,EAAAA,iBAAiB,GAAI;AAChB,SAAKL,YAAL;AACD;;AAEDM,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,GAAlB;AAAsB,MAAA,MAAM,EAAE,MAC5B;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACF,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE,KAAKlB,KAAlB;AAAyB,QAAA,QAAQ,EAAE,KAAKE,eAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADE,EAEJ,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,QAAT;AAAkB,QAAA,SAAS,EAAC,aAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFI,CADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EASL,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,SAAZ;AAAsB,MAAA,MAAM,EAAE,CAAE;AAAEQ,QAAAA;AAAF,OAAF,KAClB,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKV,KAAL,CAAWC,KAA5B;AAAmC,QAAA,QAAQ,EAAE,CAACE,KAAD,EAAQC,MAAR,KAAmB,KAAKK,UAAL,CAAgBC,OAAhB,EAAyBP,KAAzB,EAAgCC,MAAhC,CAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATK,CADF;AAiBD;;AAxDkC;;AA2DvC,eAAeN,QAAf","sourcesContent":["import React from 'react'\nimport * as BooksAPI from './BooksAPI'\nimport './App.css'\nimport Home from './Home'\nimport { Route, Link } from 'react-router-dom'\nimport Search from './Search'\n\nclass BooksApp extends React.Component {\n\n    state = {\n      books : []\n    }\n\n\tonOptionChanged = (value, bookId) => {\n        return BooksAPI.get(bookId)\n        .then((book) => {\n          this.updateBook(book, value)\n        });\n    }\n\n    addNewBook = (history, value, bookId) => {\n      this.onOptionChanged(value, bookId)\n      .then(() => {\n          history.push('/')\n        })\n    };\n\n\trefreshBooks = () => {\n      BooksAPI.getAll()\n      .then((books) => (\n        this.setState(\n      \t\t{ books : books }\n          )\n       ))\n    }\n\n\tupdateBook = (book, shelf) => {\n      \tBooksAPI.update(book, shelf)\n      \t.then(() => this.refreshBooks())\n    }\n\n\tcomponentDidMount () {\n      this.refreshBooks()\n    }\n\n    render() {\n      return (\n        <div className=\"app\">\n         \t<Route exact path=\"/\" render={() => (\n          \t\t<div className=\"container\">\n      \t\t\t\t<Home state={this.state} listener={this.onOptionChanged}/>\n\t\t\t\t    <Link to='search' className=\"open-search\">Add Book</Link>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t/>\n\t\t\t\n\t\t\t<Route path=\"/search\" render={( { history }) => (\n              \t<Search myReads={this.state.books} listener={(value, bookId) => this.addNewBook(history, value, bookId)}/>\n           \t)}\n            />\n              \n        </div>\n      )\n    }\n}\n\nexport default BooksApp\n"]},"metadata":{},"sourceType":"module"}