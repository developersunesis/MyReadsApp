{"ast":null,"code":"import _defineProperty from \"/Users/jasper/Workspace/ReactNative/MyReadsApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nconst api = \"https://reactnd-books-api.udacity.com\"; // Generate a unique token for storing your bookshelf data on the backend server.\n\nlet token = localStorage.token;\nif (!token) token = localStorage.token = Math.random().toString(36).substr(-8);\nconst headers = {\n  'Accept': 'application/json',\n  'Authorization': token\n};\nexport const get = bookId => fetch(\"\".concat(api, \"/books/\").concat(bookId), {\n  headers\n}).then(res => res.json()).then(data => data.book);\nexport const getAll = () => fetch(\"\".concat(api, \"/books\"), {\n  headers\n}).then(res => res.json()).then(data => data.books);\nexport const update = (book, shelf) => fetch(\"\".concat(api, \"/books/\").concat(book.id), {\n  method: 'PUT',\n  headers: _objectSpread({}, headers, {\n    'Content-Type': 'application/json'\n  }),\n  body: JSON.stringify({\n    shelf\n  })\n}).then(res => res.json());\nexport const search = (query, maxResults) => fetch(\"\".concat(api, \"/search\"), {\n  method: 'POST',\n  headers: _objectSpread({}, headers, {\n    'Content-Type': 'application/json'\n  }),\n  body: JSON.stringify({\n    query,\n    maxResults\n  })\n}).then(res => res.json()).then(data => data.books);","map":{"version":3,"sources":["/Users/jasper/Workspace/ReactNative/MyReadsApp/src/BooksAPI.js"],"names":["api","token","localStorage","Math","random","toString","substr","headers","get","bookId","fetch","then","res","json","data","book","getAll","books","update","shelf","id","method","body","JSON","stringify","search","query","maxResults"],"mappings":";;;;;;AACA,MAAMA,GAAG,GAAG,uCAAZ,C,CAGA;;AACA,IAAIC,KAAK,GAAGC,YAAY,CAACD,KAAzB;AACA,IAAI,CAACA,KAAL,EACEA,KAAK,GAAGC,YAAY,CAACD,KAAb,GAAqBE,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAC,CAAnC,CAA7B;AAEF,MAAMC,OAAO,GAAG;AACd,YAAU,kBADI;AAEd,mBAAiBN;AAFH,CAAhB;AAKA,OAAO,MAAMO,GAAG,GAAIC,MAAD,IACjBC,KAAK,WAAIV,GAAJ,oBAAiBS,MAAjB,GAA2B;AAAEF,EAAAA;AAAF,CAA3B,CAAL,CACGI,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQG,IAAI,IAAIA,IAAI,CAACC,IAFrB,CADK;AAKP,OAAO,MAAMC,MAAM,GAAG,MACpBN,KAAK,WAAIV,GAAJ,aAAiB;AAAEO,EAAAA;AAAF,CAAjB,CAAL,CACGI,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQG,IAAI,IAAIA,IAAI,CAACG,KAFrB,CADK;AAKP,OAAO,MAAMC,MAAM,GAAG,CAACH,IAAD,EAAOI,KAAP,KACpBT,KAAK,WAAIV,GAAJ,oBAAiBe,IAAI,CAACK,EAAtB,GAA4B;AAC/BC,EAAAA,MAAM,EAAE,KADuB;AAE/Bd,EAAAA,OAAO,oBACFA,OADE;AAEL,oBAAgB;AAFX,IAFwB;AAM/Be,EAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEL,IAAAA;AAAF,GAAf;AANyB,CAA5B,CAAL,CAOGR,IAPH,CAOQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPf,CADK;AAUP,OAAO,MAAMY,MAAM,GAAG,CAACC,KAAD,EAAQC,UAAR,KACpBjB,KAAK,WAAIV,GAAJ,cAAkB;AACrBqB,EAAAA,MAAM,EAAE,MADa;AAErBd,EAAAA,OAAO,oBACFA,OADE;AAEL,oBAAgB;AAFX,IAFc;AAMrBe,EAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEE,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAf;AANe,CAAlB,CAAL,CAOGhB,IAPH,CAOQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPf,EAQGF,IARH,CAQQG,IAAI,IAAIA,IAAI,CAACG,KARrB,CADK","sourcesContent":["\nconst api = \"https://reactnd-books-api.udacity.com\"\n\n\n// Generate a unique token for storing your bookshelf data on the backend server.\nlet token = localStorage.token\nif (!token)\n  token = localStorage.token = Math.random().toString(36).substr(-8)\n\nconst headers = {\n  'Accept': 'application/json',\n  'Authorization': token\n}\n\nexport const get = (bookId) =>\n  fetch(`${api}/books/${bookId}`, { headers })\n    .then(res => res.json())\n    .then(data => data.book)\n\nexport const getAll = () =>\n  fetch(`${api}/books`, { headers })\n    .then(res => res.json())\n    .then(data => data.books)\n\nexport const update = (book, shelf) =>\n  fetch(`${api}/books/${book.id}`, {\n    method: 'PUT',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ shelf })\n  }).then(res => res.json())\n\nexport const search = (query, maxResults) =>\n  fetch(`${api}/search`, {\n    method: 'POST',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ query, maxResults })\n  }).then(res => res.json())\n    .then(data => data.books)\n"]},"metadata":{},"sourceType":"module"}